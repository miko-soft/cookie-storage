var k=Object.defineProperty;var p=(l,a)=>k(l,"name",{value:a,configurable:!0});(()=>{"use strict";var l={};class a{constructor(e){if(!document)throw new Error("The document is not available.");this.cookieOpts=e}setOptions(e={}){this.cookieOpts=e}put(e,t){if(t===""||typeof t!="string")throw new Error(`ERR Cookie::put() - The "${e}" value must be non-empty string`);const s=encodeURIComponent(t);let o=`${e}=${s};`;o=this._appendCookieOptions(o),document.cookie=o}putObject(e,t){if(typeof t!="object"||!Object.keys(t).length)throw new Error(`ERR Cookie::putObject() - The "${e}" value must be non-empty object`);const s=encodeURIComponent(JSON.stringify(t));let o=`${e}=${s};`;o=this._appendCookieOptions(o),document.cookie=o}get(e){const t=this._toCookiesArr();let s,o;return t.forEach(r=>{s=r.split("="),s[0]===e&&(o=s[1])}),o=o?decodeURIComponent(o):void 0,o}getObject(e){const t=this.get(e);let s;try{t&&(s=JSON.parse(t))}catch{console.error("ERR Cookie::getObject(): Cookie value has invalid JSON and can not be converted to Object. Use get() method instead getObject()")}return s}getAll(){return document.cookie.split(";").filter(o=>!!o).map(o=>{const r=o.split("=");let c=r[0]||"";if(c=c.trim(),!c)return;let i=r[1]||"";return i=i.trim(),i=i?decodeURIComponent(i):void 0,{[c]:i}})}getObjectAll(e=!0){const s=document.cookie.split(";").filter(r=>!!r),o={};return s.forEach(r=>{const c=r.split("=");let i=c[0]||"";if(i=i.trim(),!i)return;let n=c[1]||"";n=n.trim(),n=n?decodeURIComponent(n):void 0,e&&(n=this._stringTypeConvert(n)),o[i]=n}),o}remove(e){let t=new Date("1970-01-01T01:00:00");t=t.toUTCString(),document.cookie=`${e}=;expires=${t};path=/;`}removeAll(){let e=new Date("1970-01-01T01:00:00");e=e.toUTCString();const t=this._toCookiesArr();let s;const o=[];t.forEach(r=>{s=r.split("="),document.cookie=`${s[0]}=;expires=${e};path=/;`,o.push(document.cookie)})}exists(e){const t=this._toCookiesArr();let s,o=!1;return t.forEach(r=>{s=r.split("="),s[0]===e&&(o=!0)}),o}_appendCookieOptions(e){if(!this.cookieOpts)return e;if(this.cookieOpts.domain){const t=`domain=${this.cookieOpts.domain};`;e+=t}if(this.cookieOpts.path){const t=`path=${this.cookieOpts.path};`;e+=t}if(this.cookieOpts.expires){let t;if(typeof this.cookieOpts.expires=="number"){const o=new Date;o.setTime(o.getTime()+this.cookieOpts.expires*60*60*1e3),t=o.toUTCString()}else t=this.cookieOpts.expires.toUTCString();const s=`expires=${t};`;e+=s}if(this.cookieOpts.secure&&(e+="secure;"),this.cookieOpts.httpOnly&&(e+="HttpOnly;"),this.cookieOpts.sameSite){const t=`SameSite=${this.cookieOpts.sameSite};`;e+=t}return e}_toCookiesArr(){return document.cookie.split(";").map(o=>o.trim())}_stringTypeConvert(e){function t(s){try{JSON.parse(s)}catch{return!1}return!0}return p(t,"isJSON"),e&&!isNaN(e)&&!/\./.test(e)?e=parseInt(e,10):e&&!isNaN(e)&&/\./.test(e)?e=parseFloat(e):(e==="true"||e==="false"||t(e))&&(e=JSON.parse(e)),e}}p(a,"BrowserCookie");const f=a;class u{constructor(e){if(!window)throw new Error("The window is not available.");this.setOptions(e)}setOptions(e={}){this.storageopts=e,this.storage=e.storageType==="session"?window.sessionStorage:window.localStorage}put(e,t){if(t==null||t===NaN)throw new Error(`ERR BrowserStorage::put() - The "${e}" value is undefined, null or NaN`);this.storage.setItem(e,t)}putObject(e,t){if(typeof t!="object")throw new Error(`ERR BrowserStorage::putObject() - The "${e}" value must be object`);const s=JSON.stringify(t);this.storage.setItem(e,s)}get(e){return this.storage.getItem(e)||void 0}getObject(e){const t=this.storage.getItem(e);let s;try{t&&(s=JSON.parse(t))}catch{console.error(`ERR BrowserStorage::getObject() [${this.browserStorageOpts.storageType}]: Storage value has invalid JSON and can not be converted to Object. Use get() method instead getObject()`)}return s}getAll(){const e=[];for(const[t,s]of Object.entries(this.storage))e.push({[t]:s});return e}getObjectAll(e=!0){const t={};for(let[s,o]of Object.entries(this.storage))s=s.trim(),s&&(o=o.trim(),e&&(o=this._stringTypeConvert(o)),t[s]=o);return t}remove(e){this.storage.removeItem(e)}removeAll(){this.storage.clear()}exists(e){return!!this.storage.getItem(e)}_stringTypeConvert(e){function t(s){try{JSON.parse(s)}catch{return!1}return!0}return p(t,"isJSON"),e&&!isNaN(e)&&!/\./.test(e)?e=parseInt(e,10):e&&!isNaN(e)&&/\./.test(e)?e=parseFloat(e):(e==="true"||e==="false"||t(e))&&(e=JSON.parse(e)),e}}p(u,"BrowserStorage");const h=u;console.log(typeof window),typeof window<"u"&&(window.mikosoft||(window.mikosoft={}),window.mikosoft.browserStorage=new h,window.mikosoft.browserCookie=new f,console.log("window.mikosoft",window.mikosoft))})();

//# sourceMappingURL=cookie-storage.min.js.map